# For more details on configuring Wrangler, see:
# https://developers.cloudflare.com/workers/wrangler/configuration/
name = "poma"
main = "src/server/index.ts"
compatibility_date = "2025-08-03"
compatibility_flags = ["nodejs_compat"]

[vars]
MODEL_NAME="@cf/meta/llama-4-scout-17b-16e-instruct"

[observability]
enabled = true

[assets]
directory = "public"

[ai]
binding = "AI"
remote = true

[[kv_namespaces]]
binding="POMA_KV"      
id="7531ca4ca6f94f209d792bd43f25ed03"

[[durable_objects.bindings]]
name = "PomaAgent"
class_name = "PomaAgent"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["PomaAgent"]
# renamed_classes = [{from = "HumanInTheLoop", to = "PomaAgent" }]
